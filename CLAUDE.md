# ことばガチャ (word-gacha)

## プロジェクト概要

### アプリケーション名
- **プロダクト名**: ことばガチャ
- **リポジトリ名**: word-gacha

### コンセプト
小学生時代にクラスで紙と鉛筆を使って行っていた言葉遊びをWebアプリケーションとして再現。ユーザーが「いつ」「どこで」「誰が」「何を」「どうした」「そしてどうなった」という文章の要素を投稿し、それらをランダムに組み合わせて予想外の面白い文章を生成する。

### 対象ユーザー
- **主要対象**: 開発者本人とその友人（懐かしさを共有できる世代）
- **副次対象**: 不特定多数のユーザー（将来的な拡張を想定）
- **利用規模**: 少数の友人間での利用（数人〜数十人程度）

## 機能要件

### 優先度順機能リスト
1. **センテンス投稿機能** - 最重要
2. **ランダム文章生成機能** - 最重要
3. **生成文章の保存機能** - 重要
4. **生成文章の共有機能（URL）** - 重要
5. **管理機能（不適切投稿の削除など）** - 中程度
6. **レスポンシブデザイン対応** - 中程度

### 詳細機能仕様

#### 1. センテンス投稿機能
- **入力要素**:
  - いつ（時間・時期）
  - どこで（場所）
  - 誰が（主語）
  - 何を（目的語）
  - どうした（動詞・行為）
  - そしてどうなった（結果・結末）
- **入力制約**:
  - 全要素の入力は必須ではない（部分的な入力も可能）
  - 文字数制限は未定（今後検討）
  - 重複チェックなし
  - 投稿頻度制限なし
- **データ管理**: 全ユーザー共通のデータベースに保存

#### 2. ランダム文章生成機能
- **動作**: ボタンクリックで完全ランダムな組み合わせを生成
- **生成方式**: データベースから各要素をランダムに1つずつ選択して文章を構成
- **再生成**: 何度でも新しい組み合わせを生成可能

#### 3. 生成文章の保存・共有機能
- **保存**: 気に入った生成文章を保存可能
- **共有**: 一意のURLを生成して文章を共有
- **共有方式**: URL形式での共有のみ

#### 4. 管理機能（将来実装）
- **段階的実装**:
  - 初期は対策なし
  - 不特定多数公開時にNGワードフィルターと管理者削除機能を追加

### 非機能要件

#### 認証・セキュリティ
- **ユーザー認証**: なし（匿名利用）
- **アクセス制御**: なし
- **データ保護**: 基本的なXSS/SQLインジェクション対策のみ

#### パフォーマンス
- **想定ユーザー数**: 数人〜数十人の同時利用
- **レスポンス時間**: 標準的なWebアプリケーション水準
- **データ量**: 小規模（数千〜数万件の投稿を想定）

## 技術仕様

### フロントエンド
- **フレームワーク**: React
- **言語**: TypeScript
- **スタイル**: TBD（シンプルなデザイン重視）
- **状態管理**: TBD

### バックエンド
- **フレームワーク**: Ruby on Rails
- **言語**: Ruby
- **API**: RESTful API

### データベース
- **DBMS**: SQLite（Rails 8標準）
- **データモデル**: TBD

### インフラ・デプロイ
- **開発環境**: ローカル開発
- **本番環境**: AWS（将来的）
- **CI/CD**: 未定

## UI/UX設計

### デザイン方針
- **スタイル**: シンプルで機能重視
- **レスポンシブ**: 対応予定（優先度中）
- **アクセシビリティ**: 基本対応

### 主要画面構成
1. **メイン画面**:
   - センテンス投稿フォーム（6つの入力欄）
   - ランダム生成ボタン
   - 生成結果表示エリア
2. **共有画面**:
   - 共有された文章の表示
3. **管理画面**（将来実装）

## 開発計画

### フェーズ1（MVP: Minimum Viable Product）
- センテンス投稿機能
- ランダム文章生成機能
- 基本的なUI

### フェーズ2
- 生成文章の保存機能
- URL共有機能

### フェーズ3（将来実装）
- 管理機能（NGワード、削除機能）
- レスポンシブデザイン改善
- AWS本番環境デプロイ

### 開発スケジュール
- **期限**: なし（趣味プロジェクトとして気長に開発）
- **開発スタイル**: 段階的リリース

## 技術的考慮事項

### セキュリティ
- XSS対策（入力値のエスケープ）
- SQLインジェクション対策（ORMの適切な使用）
- CSRF対策

### パフォーマンス最適化
- データベースインデックスの適切な設定
- 不要なN+1クエリの回避

### 運用・保守
- ログ出力の設計
- エラーハンドリング
- データバックアップ戦略（将来的）

## リスク・課題

### 技術的リスク
- SQLiteの同時アクセス制限（ユーザー数増加時）
- 不適切投稿への対応遅れ

### 運用リスク
- スパム投稿
- サーバーコスト（AWS移行時）

### 対応策
- 段階的な機能追加による リスク分散
- 小規模開始による影響範囲限定
